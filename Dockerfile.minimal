# Dockerfile ultra-simple con verificación
FROM mcr.microsoft.com/dotnet/aspnet:8.0

WORKDIR /app

# Copiar todo el directorio publish
COPY publish/ ./

ENV ASPNETCORE_ENVIRONMENT=Production

# Verificar y ejecutar
CMD echo "DEBUG: Verificando archivos..." && \
    ls -la && \
    echo "DEBUG: Buscando citas.dll..." && \
    find . -name "citas.dll" && \
    echo "DEBUG: Ejecutando aplicación..." && \
    dotnet ./citas.dll --urls "http://0.0.0.0:${PORT:-5000}"
